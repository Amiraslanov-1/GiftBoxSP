{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\xmira\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\e-commerce-react-app-main\\\\src\\\\pages\\\\LogIn.jsx\",\n  _s = $RefreshSig$();\nimport { onAuthStateChanged, signInWithEmailAndPassword } from 'firebase/auth';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { auth } from '../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LogIn() {\n  _s();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    const listen = onAuthStateChanged(auth, user => {\n      // console.log(user.email) //check token status\n      if (user) {\n        window.location.href = \"/\";\n      } else {}\n    });\n    return () => {\n      listen();\n    };\n  }, []);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const handleLogIn = async () => {\n    try {\n      await signInWithEmailAndPassword(auth, formData.email, formData.password);\n      window.location.href = \"/\";\n    } catch (error) {\n      switch (error.code) {\n        case 'auth/user-not-found':\n          setError('User not found.');\n          setLoading(false);\n          break;\n        case 'auth/wrong-password':\n          setError('Wrong password.');\n          setLoading(false);\n          break;\n        case 'auth/invalid-email':\n          setError('Invalid email address.');\n          setLoading(false);\n          break;\n        default:\n          setError('An error occurred while logging in.');\n          setLoading(false);\n      }\n    }\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    handleLogIn();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-overlay bg-secondary\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-primary border-5\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sr-only\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"\",\n      children: \"Log In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), error ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"alert alert-warning w-100 mt-4\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 w-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          className: \"form-label\",\n          children: \"E-Mail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          className: \"form-control\",\n          id: \"email\",\n          value: formData.email,\n          onChange: handleChange,\n          autoComplete: \"off\",\n          placeholder: \"Emailinizi daxil edin\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 w-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          className: \"form-label\",\n          children: \"\\u015Eifr\\u0259\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          className: \"form-control\",\n          id: \"password\",\n          value: formData.password,\n          onChange: handleChange,\n          autoComplete: \"off\",\n          placeholder: \"\\u015Eifr\\u0259ni daxil edin\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/forgetpassword\",\n        children: \"\\u015Eifr\\u0259ni unutmusunuz?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary w-100 mt-3\",\n        children: \"Giri\\u015F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/signup\",\n        className: \"btn btn-outline-primary w-100 mt-3\",\n        children: \"Hesab\\u0131n\\u0131z yoxdur ?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(LogIn, \"Av/oeXbiX7Rt/bZYNM0qGZDZZ0w=\");\n_c = LogIn;\nexport default LogIn;\nvar _c;\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"names":["onAuthStateChanged","signInWithEmailAndPassword","React","useEffect","useState","Link","auth","jsxDEV","_jsxDEV","LogIn","_s","formData","setFormData","email","password","error","setError","loading","setLoading","listen","user","window","location","href","handleChange","e","name","value","target","prevState","handleLogIn","code","handleSubmit","preventDefault","className","children","role","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","onChange","autoComplete","placeholder","required","to","_c","$RefreshReg$"],"sources":["C:/Users/xmira/OneDrive/Рабочий стол/e-commerce-react-app-main/src/pages/LogIn.jsx"],"sourcesContent":["import { onAuthStateChanged, signInWithEmailAndPassword } from 'firebase/auth';\nimport React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { auth } from '../firebase';\n\n\nfunction LogIn() {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const[error,setError] = useState(null)\n  const [loading, setLoading] = useState(false)\n  useEffect(() => {\n    const listen = onAuthStateChanged(auth, (user) => {\n      // console.log(user.email) //check token status\n      if (user) {\n        window.location.href = \"/\"\n      } else {\n        \n      }\n    })\n    return () => {\n      listen()\n    }\n  },[])\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prevState => ({\n      ...prevState,\n      [name]: value\n    }))\n  }\n  const handleLogIn = async () =>{\n    try{\n      await signInWithEmailAndPassword(auth,formData.email, formData.password)\n      window.location.href = \"/\"\n    }catch(error){\n      switch (error.code) {\n        case 'auth/user-not-found':\n          setError('User not found.');\n          setLoading(false)\n          break;\n        case 'auth/wrong-password':\n          setError('Wrong password.');\n          setLoading(false)\n          break;\n        case 'auth/invalid-email':\n          setError('Invalid email address.');\n          setLoading(false)\n          break;\n        default:\n          setError('An error occurred while logging in.');\n          setLoading(false)\n      }\n    }\n  }\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    setLoading(true)\n    setError(null)\n    handleLogIn()\n  }\n  return (\n    <div className='login'>\n      {loading?(\n        <div className='loading-overlay bg-secondary'>\n          <div className=\"spinner-border text-primary border-5\" role=\"status\">\n            <span className=\"sr-only\"></span>\n          </div>\n        </div>\n        \n      ):(null)}\n      <h1 className=''>Log In</h1>\n      {error ? (<p className='alert alert-warning w-100 mt-4'>{error}</p>) : (null)}\n      <form onSubmit={handleSubmit} className='mt-4'>\n        <div className=\"mb-3 w-100\">\n          <label htmlFor=\"email\" className=\"form-label\">E-Mail</label>\n          <input type=\"email\" name='email' className=\"form-control\" id=\"email\" value={formData.email} onChange={handleChange} autoComplete='off' placeholder='Emailinizi daxil edin'  required />\n        </div>\n        <div className=\"mb-3 w-100\">\n          <label htmlFor=\"password\" className=\"form-label\">Şifrə</label>\n          <input type=\"password\" name='password' className=\"form-control\" id=\"password\" value={formData.password} onChange={handleChange} autoComplete='off' placeholder='Şifrəni daxil edin' required />\n        </div>\n        <Link to=\"/forgetpassword\">Şifrəni unutmusunuz?</Link>\n        <button type='submit' className='btn btn-primary w-100 mt-3'>Giriş</button>\n        <Link to=\"/signup\" className='btn btn-outline-primary w-100 mt-3'>Hesabınız yoxdur ?</Link>\n      </form>\n    </div>\n  )\n}\n\nexport default LogIn"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}