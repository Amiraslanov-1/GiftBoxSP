{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\xmira\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\e-commerce-react-app-main\\\\src\\\\components\\\\MyOrders.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Footernavbar from './Footernavbar';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from '../firebase';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MyOrders() {\n  _s();\n  const [authUser, setAuthUser] = useState(null);\n  const [orders, setOrders] = useState(null);\n  useEffect(() => {\n    const listen = onAuthStateChanged(auth, user => {\n      // console.log(user.email) //check token status\n      if (user) {\n        setAuthUser(user);\n      } else {\n        setAuthUser(null);\n      }\n    });\n    return () => {\n      listen();\n    };\n  }, []);\n  useEffect(() => {\n    const getData = async () => {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_FIREBASE_DATABASE_URL}/orders.json`);\n        let resData = await response.json();\n        let arr = [];\n        for (const key in resData) {\n          if (resData[key].orderOwnerEmail == authUser.email) {\n            arr.unshift({\n              ...resData[key],\n              id: key\n            });\n          }\n        }\n        setOrders(arr);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getData();\n    console.log(orders);\n  }, [authUser]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"orderspage bg-secondary\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header bg-secondary\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"backicon\",\n        onClick: () => {\n          window.history.back();\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/icons/back.svg\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 85\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), \"My Orders\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"orders\",\n      children: orders ? orders.map((order, orderkey) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order my-3 shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"heading \",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"orderidtext\",\n              children: [\"Order ID : \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"orderid\",\n                children: order.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 76\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"date\",\n              children: order.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"quantitiyandprice mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Quantity:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-dark ms-2\",\n                children: order.totalcount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Total Amount:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-dark ms-2\",\n                children: [order.totalammount, \"$\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"details mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/profile/orders/${order.id}`,\n              className: \"btn btn-outline-dark px-4\",\n              children: \"Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 37\n            }, this), order.orderStatus == \"delivered\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status text-success\",\n              children: \"Delivered\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 74\n            }, this) : order.orderStatus == \"processing\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status text-warning\",\n              children: \"Processing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 78\n            }, this) : order.orderStatus == \"cancelled\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status text-primary\",\n              children: \"Cancelled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 81\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status text-info\",\n              children: \"Not Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 137\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 33\n          }, this)]\n        }, orderkey, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }, this);\n      }) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footernavbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_s(MyOrders, \"JEfzwBGj7G2MZeu5dUgRYyMEf2I=\");\n_c = MyOrders;\nexport default MyOrders;\nvar _c;\n$RefreshReg$(_c, \"MyOrders\");","map":{"version":3,"names":["React","useEffect","useState","Footernavbar","onAuthStateChanged","auth","Link","jsxDEV","_jsxDEV","MyOrders","_s","authUser","setAuthUser","orders","setOrders","listen","user","getData","response","fetch","process","env","REACT_APP_FIREBASE_DATABASE_URL","resData","json","arr","key","orderOwnerEmail","email","unshift","id","error","console","log","className","children","onClick","window","history","back","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","map","order","orderkey","date","totalcount","totalammount","to","orderStatus","_c","$RefreshReg$"],"sources":["C:/Users/xmira/OneDrive/Рабочий стол/e-commerce-react-app-main/src/components/MyOrders.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Footernavbar from './Footernavbar'\nimport { onAuthStateChanged } from 'firebase/auth'\nimport { auth } from '../firebase'\nimport { Link } from 'react-router-dom'\n\nfunction MyOrders() {\n    const [authUser, setAuthUser] = useState(null)\n    const [orders, setOrders] = useState(null)\n    useEffect(() => {\n        const listen = onAuthStateChanged(auth, (user) => {\n            // console.log(user.email) //check token status\n            if (user) {\n                setAuthUser(user)\n            } else {\n                setAuthUser(null)\n            }\n        })\n        return () => {\n            listen()\n        }\n    }, [])\n    useEffect(()=>{\n        const getData = async () => {\n          try {\n            const response = await fetch(`${process.env.REACT_APP_FIREBASE_DATABASE_URL}/orders.json`)\n            let resData = await response.json()\n            let arr = []\n            for (const key in resData) {\n              if (resData[key].orderOwnerEmail == authUser.email) {\n                arr.unshift({ ...resData[key], id: key })\n              }\n            }\n            setOrders(arr)\n          } catch (error) {\n            console.log(error)\n          }\n        }\n        getData()\n        console.log(orders)\n      },[authUser])\n\n    return (\n        <div className='orderspage bg-secondary'>\n            <div className='header bg-secondary'>\n                <div className='backicon' onClick={() => { window.history.back() }}><img src=\"/icons/back.svg\" alt=\"\" /></div>\n\n                My Orders\n                <div className='right'></div>\n            </div>\n            <div className='orders'>\n                {orders ? (\n                    orders.map((order,orderkey)=>{\n                        return(\n                            <div className=\"order my-3 shadow-sm\" key={orderkey}>\n                                <div className=\"heading \">\n                                    <h1 className=\"orderidtext\">Order ID : <span className='orderid'>{order.id}</span></h1>\n                                    <p className='date'>{order.date}</p>\n                                </div>\n                                <div className=\"quantitiyandprice mt-3\">\n                                    <p>Quantity: \n                                        <span className='text-dark ms-2'>\n                                            {order.totalcount}\n                                        </span>\n                                    </p>\n                                    <p>Total Amount: \n                                        <span className='text-dark ms-2'>\n                                            {order.totalammount}$\n                                        </span>\n                                    </p>\n                                </div>\n                                <div className=\"details mt-3\">\n                                    <Link to={`/profile/orders/${order.id}`} className='btn btn-outline-dark px-4'>Details</Link>\n                                    {order.orderStatus == \"delivered\" ? (<div className='status text-success'>Delivered</div>):(\n                                        order.orderStatus == \"processing\" ? (<div className='status text-warning'>Processing</div>):(\n                                            order.orderStatus == \"cancelled\" ? (<div className='status text-primary'>Cancelled</div>) :(<div className='status text-info'>Not Status</div>)\n                                        )\n                                    )}\n                                    \n                                </div>\n                            </div>\n                        )\n                    })\n                ) : (null)}\n            </div>\n            <Footernavbar />\n        </div>\n    )\n}\n\nexport default MyOrders"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}